# CoCulture_Soil

The repository contains scripts to simulate synthetic microbial communities consisting of 20 different species in a soil system composed of unknown soil nutrients. The model assumes interactions between the different species through various parameters.
1) **Direct competition** for the available nutrients based on the kinetic properties of each species.
2) **Crossfeeding through** the consumption of byproducts produced by other species.
3) **Death rates** due to self-inhibition and long-term mortality.


The model is represented by a system of ODEs and is numerically solved. The corresponding script is called '**fun_CF_Death.m**'. Other models have been tested, including those with predation, inhibition, or other types of death functions, and are named '**fun_CF_Death_Pred.m**', '**fun_CF_Inhibit.m**', '**fun_Death.m**' respectively.

# Fitting scripts


To fit the interactions between the different species, an adaptive Metropolis-Hastings algorithm (AMH) has been developed. The script is named '**MH_Algorithm_CF_Death_v2.m.**' The various parameters of the model are fitted based on 80% of the observed data and then compared to the remaining dataset.


The algorithm is divided into four parts: Cross-feeding, Death rate, Resource consumption, and Number of resource blocks. Each part performs the AMH to fit the corresponding specific type of interaction. In each part, the interactions that are not currently being fitted are kept constant according to their most recent update. A loop iterates several times through these four parts until the likelihood of the difference between the observed and simulated data stabilizes.

# Simulated scripts 

Different scripts have been developed to simulate the microbial system. These scripts can be used to simulate exact replications of the observed system, subsystems containing fewer species or/and fewer nutrients, and heterogeneous systems where not all the species interact with each other.

Scripts to assess the sensitivity to the initial biomass or to the values of the interaction parameters have also been developed. The goal of these scripts is to evaluate the perturbations generated by the modification of certain values. For instance, how will the system develop when a species is 10 or 100 times more abundant than in the observed system? Do variations in the biomass of all species cause the same level of perturbation? Would the system be perturbed if we modify some interaction parameters or consider clusters of interactions between a set of species or/and nutrients?
